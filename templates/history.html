{% extends "layout.html" %}

{% block title %}
    History
{% endblock %}

{% block main %}
    <h3>Transaction History for <b>{{ username }}</b></h3>
    <table id="loaded" class="table table-striped table-bordered order-column">
        <thead>
            <tr>
                <th>Date</th>
                <th>Transaction</th>
                <th>Symbol</th>
                <th>Name</th>
                <th>Shares</th>
                <th>Price</th>
                <th>TOTAL</th>
            </tr>
        </thead>
        <tbody>
            {% for row in rows %}
                <tr>
                    <td>{{ row['date'] }}</td>
                    <td>{{ row["type"] }}</td>
                    <td>{{ row["symbol"] }}</td>
                    <td>{{ row["name"] }}</td>
                    <td>{{ row["shares"] }}</td>
                    <td>{{ '${:,.2f}'.format(row["price"]) }}</td>
                    <td>{{ '${:,.2f}'.format(row["total"]) }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <script>
        $(document).ready(function() {
            $('#loaded').DataTable( {
                "paging" : false ,
                "order": [[ 0, "desc" ]]
            });
        } );
    </script>
{% endblock %}
